!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).monthSelectPlugin=t()}(this,function(){"use strict";var e=function(){return(e=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},t=function(e,t,n){return n.months[t?"shorthand":"longhand"][e]},n={shorthand:!1,dateFormat:"F Y",altFormat:"F Y",theme:"light"};return function(o){var a=e({},n,o);return function(e){e.config.dateFormat=a.dateFormat,e.config.altFormat=a.altFormat;var n={monthsContainer:null};function o(){if(e.rContainer){for(var t=e.rContainer.querySelectorAll(".flatpickr-monthSelect-month.selected"),n=0;n<t.length;n++)t[n].classList.remove("selected");var o=e.rContainer.querySelector(".flatpickr-monthSelect-month:nth-child("+(e.currentMonth+1)+")");o&&o.classList.add("selected")}}function r(){var t=e.selectedDates[0];t&&((t=new Date(t)).setFullYear(e.currentYear),e.config.minDate&&t<e.config.minDate&&(t=e.config.minDate),e.config.maxDate&&t>e.config.maxDate&&(t=e.config.maxDate),e.currentYear=t.getFullYear(),e.currentYearElement.value=String(e.currentYear),o()),e.rContainer&&e.rContainer.querySelectorAll(".flatpickr-monthSelect-month").forEach(function(t){t.dateObj.setFullYear(e.currentYear),e.config.minDate&&t.dateObj<e.config.minDate||e.config.maxDate&&t.dateObj>e.config.maxDate?t.classList.add("disabled"):t.classList.remove("disabled")})}function i(t){t.preventDefault(),t.stopPropagation(),t.target instanceof Element&&!t.target.classList.contains("disabled")&&(c(t.target.dateObj),e.close())}function c(t){var n=new Date(t);n.setFullYear(e.currentYear),e.currentMonth=n.getMonth(),e.setDate(n,!0),o()}var l={37:-1,39:1,40:3,38:-3};return{onParseConfig:function(){e.config.mode="single",e.config.enableTime=!1},onValueUpdate:o,onKeyDown:function(t,o,a,r){var i=void 0!==l[r.keyCode];if((i||13===r.keyCode)&&e.rContainer&&n.monthsContainer){var d=e.rContainer.querySelector(".flatpickr-monthSelect-month.selected"),s=Array.prototype.indexOf.call(n.monthsContainer.children,document.activeElement);if(-1===s){var m=d||n.monthsContainer.firstElementChild;m.focus(),s=m.$i}i?n.monthsContainer.children[(12+s+l[r.keyCode])%12].focus():13===r.keyCode&&n.monthsContainer.contains(document.activeElement)&&c(document.activeElement.dateObj)}},onReady:[function(){if(e.rContainer&&e.daysContainer&&e.weekdayContainer){e.rContainer.removeChild(e.daysContainer),e.rContainer.removeChild(e.weekdayContainer);for(var t=0;t<e.monthElements.length;t++){var n=e.monthElements[t];n.parentNode&&n.parentNode.removeChild(n)}}},function(){e._bind(e.prevMonthNav,"click",function(){e.currentYear-=1,r()}),e._bind(e.nextMonthNav,"mousedown",function(){e.currentYear+=1,r()})},function(){if(e.rContainer){n.monthsContainer=e._createElement("div","flatpickr-monthSelect-months"),n.monthsContainer.tabIndex=-1,e.calendarContainer.classList.add("flatpickr-monthSelect-theme-"+a.theme);for(var o=0;o<12;o++){var r=e._createElement("span","flatpickr-monthSelect-month");r.dateObj=new Date(e.currentYear,o),r.$i=o,r.textContent=t(o,a.shorthand,e.l10n),r.tabIndex=-1,r.addEventListener("click",i),n.monthsContainer.appendChild(r),(e.config.minDate&&r.dateObj<e.config.minDate||e.config.maxDate&&r.dateObj>e.config.maxDate)&&r.classList.add("disabled")}e.rContainer.appendChild(n.monthsContainer)}},o,function(){e.loadedPlugins.push("monthSelect")}],onDestroy:function(){if(null!==n.monthsContainer)for(var e=n.monthsContainer.querySelectorAll(".flatpickr-monthSelect-month"),t=0;t<e.length;t++)e[t].removeEventListener("click",i)}}}}});